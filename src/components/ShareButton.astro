<button id="copy-share" class="share-btn">&#128279;</button>

<div id="toast" class="toast">Copied!</div>

<script>
  const button = document.getElementById("copy-share");
  const toast = document.getElementById("toast");

  button?.addEventListener("click", async () => {
    try {
      const text = `${document.title}\n${location.href}`;
      await navigator.clipboard.writeText(text);

      showToast("Copied!");
    } catch {
      showToast("Failed...");
    }
  });

  function showToast(message) {
    toast.textContent = message;
    toast.classList.add("show");

    setTimeout(() => {
      toast.classList.remove("show");
    }, 2500);
  }
</script>

<style is:global>
  .share-btn {
    box-shadow: 0 4px 12px rgba(0,0,0,0.2);

    margin: 0% 3% 0% auto;
    width: 48px;
    height: 48px;
    border-radius: 50%;
    border: 1px solid #ddd;
    background: #fff;
    cursor: pointer;

    display: flex;
    align-items: center;
    justify-content: center;

    font-size: 1.2rem;
    transition: all 0.2s ease;
  }
  .share-btn:hover {
    background: #f5f5f5;
  }

  @media (max-width: 640px) {
    .share-btn {
      width: 40px;
      height: 40px;
    }
  }

  .toast {
    position: fixed;
    bottom: 24px;
    left: 50%;
    transform: translateX(-50%) translateY(20px);
    background: rgb(227, 226, 224);
    color: var(--fg);
    padding: 0.75rem 1.25rem;
    border-radius: 8px;
    font-size: 0.9rem;
    opacity: 0;
    transition: all 0.3s ease;
    pointer-events: none;
    z-index: 9999;
  }

  .toast.show {
    opacity: 1;
    transform: translateX(-50%) translateY(0);
  }
</style>